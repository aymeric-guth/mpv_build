---
tags: [todo]
---
* fork image docker osxcross (pas sur de son maintien)
* build complet ffmpeg (sans installer les dépendances via macports)
* recherches:
	* pkg-config
	* LDFLAGS CFLAGS
	* cross-compilation
	* dynamic lib
	* static lib

###### Cross
https://www.youtube.com/watch?v=Pbt330zuNPc

* message erreur libmpv quand un format de fichier n'est pas supporté


http://ffmpeg.org/pipermail/ffmpeg-devel/2017-October/217955.html


https://yaml.org/
https://yaml.org/spec/1.2.2/



```
# PATH=/opt/osxcross/bin:$PATH PKG_CONFIG_PATH="$PREFIX/lib/pkg-config" ./configure --prefix=${PREFIX} --enable-gpl --enable-version3 --enable-nonfree --disable-static --enable-shared --disable-small --enable-runtime-cpudetect --disable-gray --disable-swscale-alpha --enable-autodetect --disable-ffmpeg --disable-ffplay --disable-ffprobe --disable-doc --disable-htmlpages --disable-manpages --disable-podpages --disable-txtpages --disable-avdevice --disable-postproc --disable-w32threads --disable-os2threads --disable-network --disable-pixelutils --disable-encoders --disable-decoders --disable-hwaccels --disable-muxers --disable-demuxers --disable-parsers --disable-bsfs --disable-protocols --disable-devices --disable-filters --disable-alsa --disable-appkit --disable-avfoundation --disable-avisynth --disable-bzlib --disable-coreimage --disable-chromaprint --disable-frei0r --disable-gcrypt --disable-gmp --disable-gnutls --disable-iconv --disable-jni --disable-ladspa --disable-lcms2 --disable-libaom --disable-libaribb24 --disable-libass --disable-libbluray --disable-libbs2b --disable-libcaca --disable-libcelt --disable-libcdio --disable-libcodec2 --disable-libdav1d --disable-libdavs2 --disable-libdc1394 --disable-libflite --disable-libfontconfig --disable-libfreetype --disable-libfribidi --disable-libglslang --disable-libgme --disable-libgsm --disable-libiec61883 --disable-libilbc --disable-libjack --disable-libjxl --disable-libklvanc --disable-libkvazaar --disable-liblensfun --disable-libmodplug --disable-libmp3lame --disable-libopencore-amrnb --disable-libopencore-amrwb --disable-libopencv --disable-libopenh264 --disable-libopenjpeg --disable-libopenmpt --disable-libopenvino --disable-libplacebo --disable-libpulse --disable-librabbitmq --disable-librav1e --disable-librist --disable-librsvg --disable-librubberband --disable-librtmp --disable-libshaderc --disable-libshine --disable-libsmbclient --disable-libsnappy --disable-libsoxr --disable-libspeex --disable-libsrt --disable-libssh --disable-libsvtav1 --disable-libtensorflow --disable-libtesseract --disable-libtheora --disable-libtls --disable-libtwolame --disable-libuavs3d --disable-libv4l2 --disable-libvidstab --disable-libvmaf --disable-libvo-amrwbenc --disable-libvorbis --disable-libvpx --disable-libwebp --disable-libx264 --disable-libx265 --disable-libxavs --disable-libxavs2 --disable-libxcb --disable-libxcb-shm --disable-libxcb-xfixes --disable-libxcb-shape --disable-libxvid --disable-libxml2 --disable-libzimg --disable-libzmq --disable-libzvbi --disable-lv2 --disable-lzma --disable-decklink --disable-mbedtls --disable-mediacodec --disable-mediafoundation --disable-metal --disable-libmysofa --disable-openal --disable-opencl --disable-opengl --disable-openssl --disable-pocketsphinx --disable-sndio --disable-schannel --disable-sdl2 --disable-securetransport --disable-vapoursynth --disable-vulkan --disable-xlib --disable-zlib --disable-amf --disable-audiotoolbox --disable-cuda-nvcc --disable-cuda-llvm --disable-cuvid --disable-d3d11va --disable-dxva2 --disable-ffnvcodec --disable-libdrm --disable-libmfx --disable-libnpp --disable-mmal --disable-nvdec --disable-nvenc --disable-omx --disable-omx-rpi --disable-rkmpp --disable-v4l2-m2m --disable-vaapi --disable-vdpau --disable-videotoolbox --arch=x86_64 --target-os=darwin --cross-prefix=x86_64-apple-darwin18- --enable-cross-compile --cc=o64-clang --cxx=o64-clang++ --extra-cflags="-I${PREFIX}/include" --extra-ldflags="-L${PREFIX}/lib -lgme -lmodplug -lopus -lopenmpt -lvorbis -logg -lfdk-aac -lvorbisenc -lvorbisfile" --disable-asm --enable-parser=mpegaudio --enable-parser=flac --enable-parser=aac --enable-parser=opus --enable-parser=vorbis --enable-libgme --enable-libvorbis --enable-libopus --enable-libfdk-aac --enable-demuxer=libgme --enable-demuxer=mp3 --enable-demuxer=flac --enable-demuxer=ogg --enable-demuxer=wav --enable-demuxer=aiff --enable-demuxer=ape --enable-demuxer=mov --enable-decoder=pcm_s16le --enable-decoder=pcm_s16be --enable-decoder=pcm_s24be --enable-decoder=pcm_f32le --enable-decoder=mp3 --enable-decoder=flac --enable-decoder=libopus --enable-decoder=libvorbis --enable-decoder=ape --enable-decoder=libfdk_aac --enable-decoder=alac

# PKG_CONFIG_PATH="$PREFIX/lib/pkg-config" OSXCROSS_PKG_CONFIG_LIBDIR="$PREFIX/lib/pkg-config" ./configure --prefix=${PREFIX} --enable-gpl --enable-version3 --enable-nonfree --disable-static --enable-shared --disable-small --enable-runtime-cpudetect --disable-gray --disable-swscale-alpha --enable-autodetect --disable-ffmpeg --disable-ffplay --disable-ffprobe --disable-doc --disable-htmlpages --disable-manpages --disable-podpages --disable-txtpages --disable-avdevice --disable-postproc --disable-w32threads --disable-os2threads --disable-network --disable-pixelutils --disable-encoders --disable-decoders --disable-hwaccels --disable-muxers --disable-demuxers --disable-parsers --disable-bsfs --disable-protocols --disable-devices --disable-filters --disable-alsa --disable-appkit --disable-avfoundation --disable-avisynth --disable-bzlib --disable-coreimage --disable-chromaprint --disable-frei0r --disable-gcrypt --disable-gmp --disable-gnutls --disable-iconv --disable-jni --disable-ladspa --disable-lcms2 --disable-libaom --disable-libaribb24 --disable-libass --disable-libbluray --disable-libbs2b --disable-libcaca --disable-libcelt --disable-libcdio --disable-libcodec2 --disable-libdav1d --disable-libdavs2 --disable-libdc1394 --disable-libfdk-aac --disable-libflite --disable-libfontconfig --disable-libfreetype --disable-libfribidi --disable-libglslang --disable-libgme --disable-libgsm --disable-libiec61883 --disable-libilbc --disable-libjack --disable-libjxl --disable-libklvanc --disable-libkvazaar --disable-liblensfun --disable-libmodplug --disable-libmp3lame --disable-libopencore-amrnb --disable-libopencore-amrwb --disable-libopencv --disable-libopenh264 --disable-libopenjpeg --disable-libopenmpt --disable-libopenvino --disable-libopus --disable-libplacebo --disable-libpulse --disable-librabbitmq --disable-librav1e --disable-librist --disable-librsvg --disable-librubberband --disable-librtmp --disable-libshaderc --disable-libshine --disable-libsmbclient --disable-libsnappy --disable-libsoxr --disable-libspeex --disable-libsrt --disable-libssh --disable-libsvtav1 --disable-libtensorflow --disable-libtesseract --disable-libtheora --disable-libtls --disable-libtwolame --disable-libuavs3d --disable-libv4l2 --disable-libvidstab --disable-libvmaf --disable-libvo-amrwbenc --disable-libvorbis --disable-libvpx --disable-libwebp --disable-libx264 --disable-libx265 --disable-libxavs --disable-libxavs2 --disable-libxcb --disable-libxcb-shm --disable-libxcb-xfixes --disable-libxcb-shape --disable-libxvid --disable-libxml2 --disable-libzimg --disable-libzmq --disable-libzvbi --disable-lv2 --disable-lzma --disable-decklink --disable-mbedtls --disable-mediacodec --disable-mediafoundation --disable-metal --disable-libmysofa --disable-openal --disable-opencl --disable-opengl --disable-openssl --disable-pocketsphinx --disable-sndio --disable-schannel --disable-sdl2 --disable-securetransport --disable-vapoursynth --disable-vulkan --disable-xlib --disable-zlib --disable-amf --disable-audiotoolbox --disable-cuda-nvcc --disable-cuda-llvm --disable-cuvid --disable-d3d11va --disable-dxva2 --disable-ffnvcodec --disable-libdrm --disable-libmfx --disable-libnpp --disable-mmal --disable-nvdec --disable-nvenc --disable-omx --disable-omx-rpi --disable-rkmpp --disable-v4l2-m2m --disable-vaapi --disable-vdpau --disable-videotoolbox --arch=x86_64 --target-os=darwin --cross-prefix=x86_64-apple-darwin18- --enable-cross-compile --cc=o64-clang --cxx=o64-clang++ --pkg-config="/opt/osxcross/bin/x86_64-apple-darwin18-pkg-config" --extra-cflags="-I${PREFIX}/include" --extra-ldflags="-L${PREFIX}/lib -lgme -lmodplug -lopus -lopenmpt -lvorbis -logg -lfdk-aac -lvorbisenc -lvorbisfile" --disable-asm --enable-parser=mpegaudio --enable-parser=flac --enable-parser=aac --enable-parser=opus --enable-parser=vorbis --enable-libgme --enable-libopenmpt --enable-libvorbis --enable-libopus --enable-libfdk-aac --enable-demuxer=libgme --enable-demuxer=libopenmpt --enable-demuxer=mp3 --enable-demuxer=flac --enable-demuxer=ogg --enable-demuxer=wav --enable-demuxer=aiff --enable-demuxer=ape --enable-demuxer=mov --enable-decoder=pcm_s16le --enable-decoder=pcm_s16be --enable-decoder=pcm_s24be --enable-decoder=pcm_f32le --enable-decoder=mp3 --enable-decoder=flac --enable-decoder=libopus --enable-decoder=libvorbis --enable-decoder=ape --enable-decoder=libfdk_aac --enable-decoder=alac

  

# PATH="/opt/osxcross/bin:$PATH" OSXCROSS_PKG_CONFIG_LIBDIR="$PREFIX/lib/pkg-config" ./configure --prefix=$PREFIX --disable-all --enable-cross-compile --arch=x86_64 --target-os=darwin --cross-prefix=x86_64-apple-darwin18- --cc=o64-clang --cxx=o64-clang++ --enable-libopus

./configure --prefix=$PREFIX --disable-all --enable-cross-compile --arch=x86_64 --target-os=darwin --cross-prefix=/opt/osxcross/bin/x86_64-apple-darwin18- --cc=o64-clang --cxx=o64-clang++ --enable-libopus
```
OSXCROSS_PKG_CONFIG_LIBDIR="$PREFIX/lib/pkg-config"

ne trouve que libopus, meme pas installé ailleurs que dans prefix

https://blog.actorsfit.com/a?ID=00350-9a5df17e-9374-4c31-a788-43d599b12c2f
